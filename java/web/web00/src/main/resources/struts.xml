<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN" "http://struts.apache.org/dtds/struts-2.0.dtd" >
<!-- Struts配置文件 -->
<struts>
	<!-- <constant name="struts.custom.i18n.resources" value="MessageResource" /> -->
    <constant name="struts.action.extension" value="action"/> 

	<package name="base" extends="struts-default">

        <action name="Login" class="com.huang.study.action.LoginAction3">
            <result name="error">/jsp/error.jsp</result>
            <result name="success">/jsp/showJasper.jsp</result>
            <result name="input">/jsp/login.jsp</result>
        </action>

<!-- 
        <interceptors>
            <interceptor name="mysimple"
                class="com.huang.study.action.IntpAction">
                <param name="name">简单拦截器</param>
            </interceptor>
        </interceptors>

		<action name="Login2" class="com.huang.study.action.LoginAction2">
			<result name="error">/jsp/error.jsp</result>
			<result name="success" type="chain">GetBooks</result>
			<result name="input">/jsp/login2.jsp</result>

			<interceptor-ref name="defaultStack" />
			<interceptor-ref name="mysimple">
				<param name="name">改名后的拦截器</param>
			</interceptor-ref>
		</action>

		<action name="GetBooks" class="com.huang.study.action.GetBookAction">
			<result name="success">/jsp/showBook2.jsp</result>
			<result name="login">/jsp/login.jsp</result>
		</action>

		<action name="Upload" class="com.huang.study.action.UploadAction">
			<interceptor-ref name="fileUpload">
				<param name="allowedType">image/bmp, image/png, image/gif, image/jpeg</param>
				<param name="maximumSize">2000</param>
			</interceptor-ref>
			<interceptor-ref name="defaultStack" />
			<param name="savePath">../../upload</param>
			<result>/jsp/succ.jsp</result>
			<result name="input">/html/upload.html</result>
		</action>
 -->		
	</package>
  
    <package name="jspr" extends="jasperreports-default">
	    <action name="JsprHtml" class="com.huang.study.action.JasperAction">
			<result name="success" type="jasper">
			  <param name="format">HTML</param>
			  <param name="location">/reports/report1.jasper</param>
			  <param name="dataSource">htmlRptData</param>
			  <param name="reportParameters">htmlRptConf</param>
			  <param name="exportParameters">htmlExpConf</param>
			</result>
        </action>
        
        <action name="JsprXls" class="com.huang.study.action.JasperAction" method="exportXls">
            <result name="success" type="jasper">
              <param name="format">XLS</param>
              <param name="documentName">xlsFileName</param>
              <param name="location">/reports/report1.jasper</param>
              <param name="dataSource">xlsRptData</param>
              <param name="reportParameters">xlsRptConf</param>
              <param name="exportParameters">xlsExpConf</param>
            </result>
        </action>

    </package>  
  
</struts>
